<ui:composition template="/template/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
	<ui:define name="content">
	
	
	<meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Detalhe do Grupo</title>

    <!-- Bootstrap -->
<h:form id="form">	
	<div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="page-header" style="border-bottom:0; margin-top:0">
              <h:commandButton ajax="false" title="Edit" action="#{grupoMB.prepareUpdate}" id="btnOpenEdit" 
              value="Editar"  class="btn btn-primary">  
       		 <f:param name="idGrupo" value="#{grupoMB.grupo.id}" />  
        	</h:commandButton>
            <span class="pull-right"></span>
              <h:commandButton ajax="false" title="Edit" action="#{grupoMB.delete}" id="btnOpenDelete"
              value="Deletar"  class="btn btn-primary" onclick="return confirm('Deseja realmente deletar o registro?');">    
        	 <f:setPropertyActionListener target="#{grupoMB.grupo}" value="#{grupoMB.grupo}" />   
             </h:commandButton>
            <h2>Informações do Grupo</h2>
          </div>
        </div>
      </div>
      <div class="row form-group">
        <div class="col-md-2"><b>Código:</b></div>
        <div class="col-md-10">#{grupoMB.grupo.id}</div>
      </div>
      <div class="row form-group">
        <div class="col-md-2"><b>Nome:</b></div>
        <div class="col-md-10">#{grupoMB.grupo.nome}</div>
      </div>  
      <div class="row form-group">
        <div class="col-md-2"><b>Nº de Participantes:</b></div>
        <div class="col-md-10">#{grupoMB.grupo.participantes}</div>
      </div>
      
      <c:if test="#{not empty grupoMB.grupo.usuarios}">
      <p:dataTable var="usuario" value="#{grupoMB.grupo.usuarios}">
      
      							<f:facet name="header">
								        Usuários
								</f:facet>
      
								<p:column headerText="Código" width="10%">
									<h:outputText value="#{usuario.id}" />
								</p:column>
								<p:column headerText="Nome" width="50%">
									<h:outputText value="#{usuario.nome}" />
								</p:column>
	</p:dataTable>
	</c:if>
	
	<br/>
	<br/>
	
	 <c:if test="#{not empty grupoMB.grupo.empresaAssociada}">
	<p:dataTable var="emp" value="#{grupoMB.grupo.empresaAssociada}">
	
								<f:facet name="header">
								        Empresas Associadas
								</f:facet>	
	
								<p:column headerText="Código" width="10%">
									<h:outputText value="#{emp.id}" />
								</p:column>
								<p:column headerText="Nome Fantasia" width="50%">
									<h:outputText value="#{emp.nomeFantasia}" />
								</p:column>
	</p:dataTable>
	</c:if>
      
      <br/>
      
      <c:if test="#{not empty grupoMB.grupo.segmentos}">
	<p:dataTable var="seg" value="#{grupoMB.grupo.segmentos}">
	
								<f:facet name="header">
								        Segmentos
								</f:facet>	
	
								<p:column headerText="Código" width="10%">
									<h:outputText value="#{seg.id}" />
								</p:column>
								<p:column headerText="Descrição" width="50%">
									<h:outputText value="#{seg.descricao}" />
								</p:column>
	</p:dataTable>
	</c:if>
	
	 <br/> <br/>
      
      <a href="../grupo/lista.xhtml">Voltar</a>
    
    </div>
			
</h:form>
</ui:define>
</ui:composition>