<!DOCTYPE html>
<ui:composition template="/template/layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	<ui:define name="content">
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Sindiquimica</title>
<link href="../css/bootstrap.min.css" rel="stylesheet"/>
    <!-- Bootstrap -->
    <style type="text/css">
      a {
        cursor: pointer;
      }
      .form-horizontal .control-label{
		text-align:left;
	  }
    </style>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    


<div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="page-header" style="border-bottom:0; margin-top:0">
            <h2>Cadastro de Empresa Associada</h2>
          </div>
        </div>
      </div>
      <div class="row">
      	<div class="col-md-12">
      	<h:form id="form" class="form-horizontal">
      	
      		<div class="form-group">
			    <label for="4" class="col-sm-2 control-label">*Empresa</label>
			    <div class="col-sm-8">
			<p:selectOneMenu value="#{empresaAssociadaMB.empresaId}" id="empresaId">
			    <f:selectItems value="#{empresaAssociadaMB.empresas}" var="empresa" itemLabel="#{empresa.nomeFantasia}" 
			    itemValue="#{empresa.id}" />
			    <f:ajax event="change" render="@form" listener="#{empresaAssociadaMB.setListaCnaes}" />  
			</p:selectOneMenu>				
			    </div>
			  </div>
      	
      		<div class="form-group">
			    <label for="4" class="col-sm-2 control-label">*Segmento</label>
			    <div class="col-sm-8">
			<p:selectOneMenu value="#{empresaAssociadaMB.idSegmento}" id="idSegmento">
			    <f:selectItems value="#{empresaAssociadaMB.segmentos}" var="segmento" itemLabel="#{segmento.descricao}" 
			    itemValue="#{segmento.id}" />
<!--  			    <f:ajax event="change" render="@form" listener="#{empresaAssociadaMB.setListaCnaes}" />   -->
			</p:selectOneMenu>				
			    </div>
			  </div>
			  
			  <div class="form-group">
			    <label for="2" class="col-sm-2 control-label">*Data de Filiação</label>
			    <div class="col-sm-8">
			      <p:calendar pattern="dd/MM/yyyy" mask="true" id="inline" value="#{empresaAssociadaMB.empresaAssociada.dataFiliacao}" 
			      mode="popup" />
			    </div>
			  </div>
			  
			  <div class="form-group">
			    <label for="7" class="col-sm-2 control-label">Pontos de Fidelidade</label>
			    <div class="col-sm-4">
			      <h:inputText value="#{empresaAssociadaMB.empresaAssociada.pontosFidelidade}" class="form-control" />
			    </div>
			  </div>
			  
			  
      	
      	
			  <div class="form-group">
			    <label for="1" class="col-sm-2 control-label">*CNPJ</label>
			    <div class="col-sm-3">
			      <p:inputMask value="#{empresaAssociadaMB.empresaAssociada.cnpj}" class="form-control" mask="99.999.999/9999-99"
			       required="true" requiredMessage="Cnpj Obrigatório." />
			    </div>
			  </div>
			  <div class="form-group">
			    <label for="2" class="col-sm-2 control-label">*Nome de Fantasia</label>
			    <div class="col-sm-8">
			      <h:inputText value="#{empresaAssociadaMB.empresaAssociada.nomeFantasia}" class="form-control"
			       required="true" requiredMessage="Nome Fantasia Obrigatório." />
			    </div>
			  </div>
			  <div class="form-group">
			    <label for="3" class="col-sm-2 control-label">*Razão Social</label>
			    <div class="col-sm-8">
			      <h:inputText value="#{empresaAssociadaMB.empresaAssociada.razaoSocial}" class="form-control"
			       required="true" requiredMessage="Razão Social Obrigatória." />
			    </div>
			  </div>
			  <div class="form-group">
			    <label for="4" class="col-sm-2 control-label">*Responsável</label>
			    <div class="col-sm-8">
			      <h:inputText value="#{empresaAssociadaMB.empresaAssociada.responsavel}" class="form-control"
			       required="true" requiredMessage="Responsável Obrigatório." />
			    </div>
			  </div>
			  
			  <div class="form-group">
			    <label for="7" class="col-sm-2 control-label">Site</label>
			    <div class="col-sm-4">
			      <h:inputText value="#{empresaAssociadaMB.empresaAssociada.site}" class="form-control" />
			    </div>
			  </div>
			  
			  <div class="form-group">
			    <label for="8" class="col-sm-2 control-label">Endereço</label>
			    <div class="col-sm-4">
			      <h:inputText value="#{empresaAssociadaMB.empresaAssociada.endereco.logradouro}" class="form-control" />
			    </div>
			  </div>
			  
			  <div class="form-group">
			    <label for="8" class="col-sm-2 control-label">Número</label>
			    <div class="col-sm-4">
			      <h:inputText onkeypress="if(event.which &lt; 48 || event.which &gt; 57) return false;" maxlength="10" value="#{empresaAssociadaMB.empresaAssociada.endereco.numero}" class="form-control" />
			    </div>
			  </div>
			  
			  <div class="form-group">
			    <label for="8" class="col-sm-2 control-label">Bairro</label>
			    <div class="col-sm-4">
			      <h:inputText value="#{empresaAssociadaMB.empresaAssociada.endereco.bairro}" class="form-control" />
			    </div>
			  </div>
			  
			  <div class="form-group">
			    <label for="8" class="col-sm-2 control-label">Cidade</label>
			    <div class="col-sm-4">
			      <h:inputText value="#{empresaAssociadaMB.empresaAssociada.endereco.cidade}" class="form-control" />
			    </div>
			  </div>
			  
			  <div class="form-group">
			    <label for="8" class="col-sm-2 control-label">Complemento</label>
			    <div class="col-sm-4">
			      <h:inputText value="#{empresaAssociadaMB.empresaAssociada.endereco.complemento}" class="form-control" />
			    </div>
			  </div>
			  
			  <div class="form-group">
			    <label for="8" class="col-sm-2 control-label">Cep</label>
			    <div class="col-sm-4">
			      <p:inputMask value="#{empresaAssociadaMB.empresaAssociada.endereco.cep}" class="form-control" mask="99.999-999" />
			    </div>
			  </div>			  
			  
			  <div class="form-group">
			    <label for="8" class="col-sm-2 control-label">Status</label>
			    <div class="col-sm-4">
			      <p:selectBooleanCheckbox value="#{empresaAssociadaMB.empresaAssociada.status}" /> Ativo
			    </div>
			  </div>
			  
			  <p:tabView scrollable="true">
						<p:tab title="Telefones">
						
						<div class="form-group">
					    <label for="4" class="col-sm-2 control-label">*Telefones</label>
					    <div class="col-sm-4">
						  <p:inputMask id="phone" value="#{empresaAssociadaMB.telefone}" mask="(99)99999-9999" class="form-control"/>
					    </div>
					      <h:commandButton ajax="false" title="Edit" action="#{empresaAssociadaMB.addTelefone}" id="btnAddTel" 
	              			value="+"  class="btn btn-primary" /> 
					  </div>

							<p:dataTable var="telefone" value="#{empresaAssociadaMB.telefones}">
								<p:column headerText="Telefones">
									<h:outputText value="#{telefone}" />
								</p:column>
								<p:column headerText="Ações">
								<h:commandButton ajax="false" title="Edit" action="#{empresaAssociadaMB.deleteTelefone}" id="btnOpenDeleteDoc"
              					value="Excluir"  class="btn btn-primary"> 
              					<f:setPropertyActionListener value="#{telefone}" target="#{empresaAssociadaMB.telefone}">
              					</f:setPropertyActionListener>
              					</h:commandButton>
								</p:column>
							</p:dataTable>

						</p:tab>	
						
						<p:tab title="Emails">
						
						<div class="form-group">
					    <label for="4" class="col-sm-1 control-label">Emails</label>
					    <div class="col-sm-4">
						  <h:inputText value="#{empresaAssociadaMB.email}" class="form-control" />
					    </div>
					      <h:commandButton ajax="false" title="Edit" action="#{empresaAssociadaMB.addEmail}" id="btnAddEmail" 
	              			value="+"  class="btn btn-primary" /> 
					  </div>

							<p:dataTable var="email" value="#{empresaAssociadaMB.emails}">
								<p:column headerText="Emails">
									<h:outputText value="#{email}" />
								</p:column>
								<p:column headerText="Ações">
								<h:commandButton ajax="false" title="Edit" action="#{empresaAssociadaMB.deleteEmail}" id="btnOpenDeleteEmail"
              					value="Excluir"  class="btn btn-primary"> 
              					<f:setPropertyActionListener value="#{email}" target="#{empresaAssociadaMB.email}">
              					</f:setPropertyActionListener>
              					</h:commandButton>
								</p:column>
							</p:dataTable>

						</p:tab>	
						
						
						<p:tab title="Cnaes">


							<div class="form-group">
								<label for="4" class="col-sm-2 control-label">Cnae</label>
								<div class="col-sm-8">
									
								<p:selectOneMenu id="advanced" value="#{empresaAssociadaMB.cnaeId}"  panelStyle="width:180px"
		                         effect="fade"  style="width:160px" filter="true" filterMatchMode="startsWith">
		                         
		            			<f:selectItems value="#{empresaAssociadaMB.cnaes}" var="cnae" itemLabel="#{cnae.descricao}" 
		            			itemValue="#{cnae.id}" />
		 
					            <p:column style="width:10%">
					                <h:outputText styleClass="ui-theme ui-theme-#{cnae.descricao}" />
					            </p:column>
					 
					            <p:column>
					                <h:outputText value="#{cnae.codigo}" />
					            </p:column>
					        </p:selectOneMenu>	
									
									
									
								</div>
								<h:commandButton ajax="false" title="Edit" action="#{empresaAssociadaMB.addCnae}" id="btnAddCnae" 
	              			value="+"  class="btn btn-primary" />
							</div>
							
							
							<p:dataTable var="cnae" value="#{empresaAssociadaMB.empresaAssociada.cnaes}">
								<p:column headerText="Código" width="10%">
									<h:outputText value="#{cnae.codigo}" />
								</p:column>
								<p:column headerText="Descrição" width="50%">
									<h:outputText value="#{cnae.descricao}" />
								</p:column>
								<p:column headerText="Ações" width="10%">
								<h:commandButton ajax="false" title="Edit" action="#{empresaAssociadaMB.deleteCnae}" id="btnOpenDeleteDoc"
              					value="Excluir"  class="btn btn-primary"> 
              					<f:setPropertyActionListener value="#{telefone}" target="#{empresaAssociadaMB.telefone}">
              					</f:setPropertyActionListener>
              					</h:commandButton>
								</p:column>
							</p:dataTable>


						</p:tab>			
					
					</p:tabView>
					
					 <div class="col-md-12">
          			<div class="page-header" style="border-bottom:0; margin-top:0">
              <h:commandButton ajax="false" title="Edit" action="#{empresaAssociadaMB.create}" id="btnUpdate" 
	              value="Salvar"  class="btn btn-primary" /> 
            <span class="pull-right"></span>
              <h:commandButton ajax="false" title="Cancelar" action="/empresaAssociada/lista.xhtml" immediate="true" id="btnClearForm" 
	              value="Cancelar"  class="btn btn-primary"/>
         	 </div>
        	</div>
			  
			  </h:form>
      	</div>
      </div>
    </div>

  </body>
 </html>   
 </ui:define>
 </ui:composition>               